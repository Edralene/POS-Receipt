<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Receipt with Add Row</title>
    <style>
        body {
            background-color: #f0f0f0;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .receipt {
            background-color: white;
            width: 80mm;
            padding: 10mm;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        /* Buttons Style */
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            position: sticky;
            top: 10px;
        }
        
        button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-family: Arial, sans-serif;
        }

        .add-btn { background: #3498db; color: white; }
        .add-btn:hover { background: #2980b9; }
        
        .print-btn { background: #2ecc71; color: white; }
        .print-btn:hover { background: #27ae60; }

        /* Receipt Text Styles */
        .logo { font-size: 60px; font-weight: bold; text-align: center; margin-bottom: 10px; }
        .header-text { text-align: center; font-size: 11px; margin-bottom: 15px; }
        .header-text h2 { margin: 0; font-size: 18px; }

        hr { border: none; border-top: 1px dashed #000; margin: 10px 0; }

        table { width: 100%; border-collapse: collapse; font-size: 12px; }
        th { text-align: left; border-bottom: 1px solid #000; padding-bottom: 5px; }
        td { padding: 6px 0; vertical-align: top; }
        
        .right { text-align: right; }
        .center { text-align: center; }

        [contenteditable="true"]:focus {
            background-color: #fffde7;
            outline: 1px solid #f1c40f;
        }

        .total-row {
            font-weight: bold;
            border-top: 2px solid #000;
        }

        /* Print Settings */
        @media print {
            .controls { display: none; }
            body { background: none; padding: 0; }
            .receipt { box-shadow: none; width: 100%; padding: 0; }
            @page { size: 80mm auto; margin: 0; }
        }
    </style>
</head>
<body>

    <div class="controls">
        <button class="add-btn" onclick="addRow()">+ ADD ROW (Dagdag Item)</button>
        <button class="print-btn" onclick="window.print()">PRINT RECEIPT</button>
    </div>

    <div class="receipt">
        <div class="logo" contenteditable="true">ERB</div>
        
        <div class="header-text">
            <h2 contenteditable="true">ERB Consumer Goods Retailing</h2>
            <p contenteditable="true">Edralene Balase</p>
            <p contenteditable="true">532 9de Febrero St. Mandaluyong City</p>
        </div>

        <hr>

        <div style="font-size: 11px; margin-bottom: 10px;">
            <p><strong>Ack No:</strong> <span contenteditable="true">819-5541924</span></p>
            <div style="display: flex; justify-content: space-between;">
                <span><strong>Date:</strong> <span id="dateNow" contenteditable="true"></span></span>
                <span contenteditable="true"> ACKNOWLEDGEMENT RECEIPT</span>
            </div>
        </div>

        <table>
            <thead>
                <tr>
                    <th style="width: 15%;">QTY</th>
                    <th style="width: 55%;">PARTICULARS</th>
                    <th class="right" style="width: 30%;">AMOUNT</th>
                </tr>
            </thead>
            <tbody id="receipt-body">
                <tr>
                    <td class="qty" contenteditable="true" oninput="updateTotal()">1</td>
                    <td contenteditable="true">Sample Item</td>
                    <td class="amount right" contenteditable="true" oninput="updateTotal()">0.00</td>
                </tr>
            </tbody>
            <tfoot>
                <tr class="total-row">
                    <td colspan="2" style="padding: 10px 0;">TOTAL AMOUNT</td>
                    <td class="right" id="grandTotal" style="padding: 10px 0;">0.00</td>
                </tr>
            </tfoot>
        </table>

        <div style="margin-top: 20px; font-size: 10px; text-align: center;" contenteditable="true">
            <p>*** Thank You! ***</p>
            <p>This serves as your proof of purchase.</p>
        </div>
    </div>

    <script>
        // Set date
        const d = new Date();
        document.getElementById('dateNow').innerText = d.toLocaleDateString();

        // Function para mag-ADD ng bagong row
        function addRow() {
            const tbody = document.getElementById('receipt-body');
            const newRow = document.createElement('tr');
            
            newRow.innerHTML = `
                <td class="qty" contenteditable="true" oninput="updateTotal()">1</td>
                <td contenteditable="true">New Item</td>
                <td class="amount right" contenteditable="true" oninput="updateTotal()">0.00</td>
            `;
            
            tbody.appendChild(newRow);
            updateTotal();
        }

        // Function para i-compute ang TOTAL
        function updateTotal() {
            let total = 0;
            const rows = document.querySelectorAll('#receipt-body tr');
            
            rows.forEach(row => {
                const qty = parseFloat(row.querySelector('.qty').innerText) || 0;
                const amount = parseFloat(row.querySelector('.amount').innerText.replace(/,/g, '')) || 0;
                total += (qty * amount);
            });

            document.getElementById('grandTotal').innerText = total.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }
    </script>

</body>
</html>
